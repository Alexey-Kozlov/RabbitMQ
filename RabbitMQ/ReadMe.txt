Пример реализации нескольких технологий:
- очереди - сервер RabbitMq
- CQRS - (Command-Query Separator) разделение команд (изменения в БД) и запросов (чтение из БД)
CQRS подходит в случае когда сильно различаются модели чтения данных и обновления данных.
Если очень большая нагрузка на чтение и сложная логика на запись - это случай для CQRS.
ТОгда мы разбиваем эти модели на две категории - модели для чтения данных и команды, служащие для записи данных.
Модели для чтения - простые и без бизнес-логики.
Модели на запись - сложные с большим количеством бизнес-логики.
Каждая команда связана со своим обработчиком. В случае использования фреймворка MediatR мы вызываем обобщенный метод Send
с нужной командой, и для выполнения данной команды автоматически подтягивается нужный обработчик.